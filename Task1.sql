CREATE TABLE clients 
(
	ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR2(100),
	PLACE_OF_BIRTH VARCHAR2(100),
	DATE_OF_BIRTH DATE,
	ADDRESS VARCHAR2(1000),
	PASSPORT VARCHAR2(100),
	CONSTRAINT CLIENTS_PK PRIMARY KEY(ID)
);

CREATE TABLE tarifs
(
	ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR2(100),
	COST NUMBER(10,2),
	CONSTRAINT TARIFS_PK PRIMARY KEY(ID)
);

CREATE TABLE productype
(
	ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR2(100),
	BEGIN_DATE DATE,
	END_DATE DATE,
	TARIF_REF NUMBER(10),
	CONSTRAINT PRODUCT_TYPE_PK PRIMARY KEY(ID),
	CONSTRAINT PRODUCT_TYPE_TAR_FK FOREIGN KEY(TARIF_REF) REFERENCES tarifs(ID)
);

CREATE TABLE products
(
	ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY,
	PRODUCT_TYPE_ID NUMBER(10),
	NAME VARCHAR2(100),
	CLIENT_REF NUMBER(10),
	OPEN_DATE DATE,
	CLOSE_DATE DATE,
	CONSTRAINT PRODUCT_PK PRIMARY KEY(ID),
	CONSTRAINT PROD_CL_FK FOREIGN KEY(CLIENT_REF) REFERENCES clients(ID),
	CONSTRAINT PROD_PRODTYPE_FK FOREIGN KEY(PRODUCT_TYPE_ID) REFERENCES productype(ID)
);

CREATE TABLE accounts
(
	ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR2(100),
	SALDO NUMBER(10, 2),
	CLIENT_REF NUMBER(10),
	OPEN_DATE DATE,
	CLOSE_DATE DATE,
	PRODUCT_REF NUMBER(10),
	ACC_NUM VARCHAR2(25),
	CONSTRAINT ACCOUNTS_PK PRIMARY KEY(ID),
	CONSTRAINT ACC_CL_FK FOREIGN KEY(CLIENT_REF) REFERENCES clients(ID),
	CONSTRAINT ACC_PROD_FK FOREIGN KEY(PRODUCT_REF) REFERENCES products(ID)
);

CREATE TABLE records
(
	ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY,
	DT NUMBER(1),
	SUM NUMBER (10,2),
	ACC_REF NUMBER(10),
	OPEN_DATE DATE,
	CONSTRAINT RECORDS_PK PRIMARY KEY(ID),
	CONSTRAINT REC_ACC_FK FOREIGN KEY(ACC_REF) REFERENCES accounts(ID)
 );
